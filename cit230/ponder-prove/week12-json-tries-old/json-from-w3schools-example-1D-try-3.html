<!DOCTYPE html>
<html>
<body>

<h2>Use the XMLHttpRequest to get the content of a file.</h2>
<p>The content is written in JSON format, and can easily be converted into a JavaScript object.</p>

    
    <body onload = "loadMap()">
    <h2>Dubai Hotels</h2>
    <div id = "map" style = "width:640px; height:480px;">test0</div>
        
<p id="demo">test1</p>

<script>
 
    function loadMap() 
          // Initialize Google Maps
          const mapOptions = 
            center:new google.maps.LatLng(25.2048, 55.2708),
            zoom: 11
         
          const map = new google.maps.Map(document.getElementById("map"), mapOptions);

          // Load JSON Data
          
        
        
     var xmlhttp = new XMLHttpRequest();
xmlhttp.onreadystatechange = function() 
    if (this.readyState == 4 && this.status == 200) 
        var myObj = JSON.parse(this.responseText);
        
        let marker = new google.maps.Marker(
              map: map,
//              position: new google.maps.LatLng(hotel.location[0], hotel.location[1]),
//              title: hotel.name;
            
            
            position: new google.maps.LatLng(myObj.markers[0].location,myObj.markers[0].name;
            
                                            
        
        document.getElementById("demo").innerHTML = myObj.markers[0].name + ', ' +  myObj.markers[0].location;
    
       
xmlhttp.open("GET", "https://somsenr.github.io/cit230/ponder-prove/markers-D-try.txt", true);
xmlhttp.send();   
        
 
//        const hotelMarkers = getJSONMarkers();
//
//          // Initialize Google Markers
//          for(hotel of hotelMarkers) {
//            let marker = new google.maps.Marker({
//              map: map,
//              position: new google.maps.LatLng(hotel.location[0], hotel.location[1]),
//              title: hotel.name
//            })
//          }
        
     
      </script> 
    

<p>Take a look at <a href="https://somsenr.github.io/cit230/ponder-prove/json_demo.txt" target="_blank">json_demo.txt</a></p>
<script src = "https://maps.googleapis.com/maps/api/js"></script>
</body>
</html>
